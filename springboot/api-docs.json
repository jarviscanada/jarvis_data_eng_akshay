{"swagger":"2.0","info":{"description":"A Spring Rest API","version":"v1.0","title":"Jarvis Trading Rest App","contact":{"name":"Edward Wang","url":"jrvs.ca","email":"edward@jrvs.ca"}},"host":"localhost:5000","basePath":"/","tags":[{"name":"app-controller","description":"App Controller"},{"name":"dashboard-controller","description":"Dashboard Controller"},{"name":"order-controller","description":"Order Controller"},{"name":"quote-controller","description":"Quote Controller"},{"name":"trader-account-controller","description":"Trader Account Controller"}],"paths":{"/dashboard/portfolio/traderId/{traderId}":{"get":{"tags":["dashboard-controller"],"summary":"Show portfolio by trader ID","operationId":"getPortfolioViewUsingGET","produces":["*/*"],"parameters":[{"name":"traderId","in":"path","description":"traderId","required":true,"type":"integer","format":"int32"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/PortfolioView"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"traderId is not found"}},"deprecated":false}},"/dashboard/profile/traderId/{traderId}":{"get":{"tags":["dashboard-controller"],"summary":"Show trader profile by trader ID","description":"Show trader and account details. TraderId and AccountId should be identical","operationId":"getAccountUsingGET","produces":["application/json;charset=UTF-8"],"parameters":[{"name":"traderId","in":"path","description":"traderId","required":true,"type":"integer","format":"int32"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/TraderAccountView"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"traderId or accountId is not found"}},"deprecated":false}},"/health":{"get":{"tags":["app-controller"],"summary":"heath","operationId":"heathUsingGET","produces":["*/*"],"responses":{"200":{"description":"OK","schema":{"type":"string"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"deprecated":false}},"/order/marketOrder":{"post":{"tags":["order-controller"],"summary":"Submit a market order","description":"Submit a market order.","operationId":"postMarketOrderUsingPOST","consumes":["application/json"],"produces":["*/*"],"parameters":[{"in":"body","name":"orderDto","description":"orderDto","required":true,"schema":{"$ref":"#/definitions/MarketOrderDto"}}],"responses":{"201":{"description":"Created","schema":{"$ref":"#/definitions/SecurityOrder"}},"400":{"description":"Unable to deposit due to user input"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"accountId or ticker is not found"}},"deprecated":false}},"/quote/":{"put":{"tags":["quote-controller"],"summary":"Update a given quote in the quote table","description":"Manually update a quote in the quote table using IEX market data","operationId":"putQuoteUsingPUT","consumes":["application/json"],"produces":["*/*"],"parameters":[{"in":"body","name":"quote","description":"quote","required":true,"schema":{"$ref":"#/definitions/Quote"}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/Quote"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"deprecated":false}},"/quote/dailyList":{"get":{"tags":["quote-controller"],"summary":"Show the dailyList","description":"Show dailyList for this trading system. DailyList = Quote Table","operationId":"getDailyListUsingGET","produces":["*/*"],"responses":{"200":{"description":"OK","schema":{"type":"array","items":{"$ref":"#/definitions/Quote"}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"deprecated":false}},"/quote/iex/ticker/{ticker}":{"get":{"tags":["quote-controller"],"summary":"Show iexQuote","description":"Show iexQuote for a given ticker/symbol","operationId":"getQuoteUsingGET","produces":["*/*"],"parameters":[{"name":"ticker","in":"path","description":"ticker","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/IexQuote"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"ticker is not found"}},"deprecated":false}},"/quote/iexMarketData":{"put":{"tags":["quote-controller"],"summary":"Update quote table using iex data","description":"Update all quotes in the quote table. Use IEX trading API as market data source.","operationId":"updateMarketDataUsingPUT","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"description":"OK","schema":{"type":"array","items":{"$ref":"#/definitions/Quote"}}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"deprecated":false}},"/quote/tickerId/{tickerId}":{"post":{"tags":["quote-controller"],"summary":"Add a new ticker to the dailyList (quote table)","description":"Add a new ticker/symbol to the quote table, so trader can trade this security.","operationId":"createQuoteUsingPOST","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"tickerId","in":"path","description":"tickerId","required":true,"type":"string"}],"responses":{"201":{"description":"Created","schema":{"$ref":"#/definitions/Quote"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"ticker is not found in IEX system"}},"deprecated":false}},"/trader/":{"post":{"tags":["trader-account-controller"],"summary":"Create a trader and an account with DTO","description":"TraderId and AccountId are auto generated by the database, and they should be identical. Assume each trader has exact one account.","operationId":"createTraderUsingPOST","consumes":["application/json"],"produces":["application/json;charset=UTF-8"],"parameters":[{"in":"body","name":"trader","description":"trader","required":true,"schema":{"$ref":"#/definitions/Trader"}}],"responses":{"201":{"description":"Created","schema":{"$ref":"#/definitions/TraderAccountView"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"deprecated":false}},"/trader/deposit/traderId/{traderId}/amount/{amount}":{"put":{"tags":["trader-account-controller"],"summary":"Deposit a fund","description":"Deposit a fund to the account that associates with the given traderId. Deposit amount must be greater than 0","operationId":"depositFundUsingPUT","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"amount","in":"path","description":"amount","required":true,"type":"number","format":"double"},{"name":"traderId","in":"path","description":"traderId","required":true,"type":"integer","format":"int32"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/Account"}},"201":{"description":"Created"},"400":{"description":"Unable to deposit due to user input"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"traderId is not found"}},"deprecated":false}},"/trader/firstname/{firstname}/lastname/{lastname}/dob/{dob}/country/{country}/email/{email}":{"post":{"tags":["trader-account-controller"],"summary":"Create a trader and an account.","description":"TraderId and AccountId are auto generated by the database,and they should be identical. Assume each trader has exact one account.","operationId":"createTraderUsingPOST_1","consumes":["application/json"],"produces":["application/json;charset=UTF-8"],"parameters":[{"name":"country","in":"path","description":"country","required":true,"type":"string"},{"name":"dob","in":"path","description":"dob","required":true,"type":"string","format":"date"},{"name":"email","in":"path","description":"email","required":true,"type":"string"},{"name":"firstname","in":"path","description":"firstname","required":true,"type":"string"},{"name":"lastname","in":"path","description":"lastname","required":true,"type":"string"}],"responses":{"201":{"description":"Created","schema":{"$ref":"#/definitions/TraderAccountView"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"deprecated":false}},"/trader/traderId/{traderId}":{"delete":{"tags":["trader-account-controller"],"summary":"Delete a trader","description":"Delete a trader IFF its account amount is 0 and no open positions. Also delete the associated account and securityOrders.","operationId":"deleteTraderUsingDELETE","produces":["*/*"],"parameters":[{"name":"traderId","in":"path","description":"traderId","required":true,"type":"integer","format":"int32"}],"responses":{"200":{"description":"OK"},"204":{"description":"No Content"},"400":{"description":"Unable to delete the user"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"}},"deprecated":false}},"/trader/withdraw/traderId/{traderId}/amount/{amount}":{"put":{"tags":["trader-account-controller"],"summary":"Withdraw a fund","description":"Withdraw a fund from the account that associates with the given traderId. Withdraw amount must not exceed account amount.","operationId":"withdrawFundUsingPUT","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"amount","in":"path","description":"amount","required":true,"type":"number","format":"double"},{"name":"traderId","in":"path","description":"traderId","required":true,"type":"integer","format":"int32"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/Account"}},"201":{"description":"Created"},"400":{"description":"Unable to withdraw due to user input. (e.g. insufficient fund)"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"traderId is not found"}},"deprecated":false}}},"definitions":{"Account":{"type":"object","properties":{"amount":{"type":"number","format":"double"},"id":{"type":"integer","format":"int32"},"traderId":{"type":"integer","format":"int32"}},"title":"Account"},"IexQuote":{"type":"object","properties":{"avgTotalVolume":{"type":"string"},"calculationPrice":{"type":"string"},"change":{"type":"string"},"changePercent":{"type":"string"},"close":{"type":"string"},"closeTime":{"type":"string"},"companyName":{"type":"string"},"delayedPrice":{"type":"string"},"delayedPriceTime":{"type":"string"},"extendedChange":{"type":"string"},"extendedChangePercent":{"type":"string"},"extendedPrice":{"type":"string"},"extendedPriceTime":{"type":"string"},"high":{"type":"string"},"iexAskPrice":{"type":"string"},"iexAskSize":{"type":"string"},"iexBidPrice":{"type":"string"},"iexBidSize":{"type":"string"},"iexLastUpdated":{"type":"string"},"iexMarketPercent":{"type":"string"},"iexRealtimePrice":{"type":"string"},"iexRealtimeSize":{"type":"string"},"iexVolume":{"type":"string"},"latestPrice":{"type":"string"},"latestSource":{"type":"string"},"latestTime":{"type":"string"},"latestUpdate":{"type":"string"},"latestVolume":{"type":"string"},"low":{"type":"string"},"marketCap":{"type":"string"},"open":{"type":"string"},"openTime":{"type":"string"},"peRatio":{"type":"string"},"previousClose":{"type":"string"},"primaryExchange":{"type":"string"},"sector":{"type":"string"},"symbol":{"type":"string"},"week52High":{"type":"string"},"week52Low":{"type":"string"},"ytdChange":{"type":"string"}},"title":"IexQuote"},"MarketOrderDto":{"type":"object","properties":{"accountId":{"type":"integer","format":"int32"},"size":{"type":"integer","format":"int32"},"ticker":{"type":"string"}},"title":"MarketOrderDto"},"PortfolioView":{"type":"object","properties":{"securityRows":{"type":"array","items":{"$ref":"#/definitions/SecurityRow"}}},"title":"PortfolioView"},"Position":{"type":"object","properties":{"accountId":{"type":"integer","format":"int32"},"position":{"type":"integer","format":"int32"},"ticker":{"type":"string"}},"title":"Position"},"Quote":{"type":"object","properties":{"askPrice":{"type":"number","format":"double"},"askSize":{"type":"integer","format":"int32"},"bidPrice":{"type":"number","format":"double"},"bidSize":{"type":"integer","format":"int32"},"id":{"type":"string"},"lastPrice":{"type":"number","format":"double"},"ticker":{"type":"string"}},"title":"Quote"},"SecurityOrder":{"type":"object","properties":{"accountId":{"type":"integer","format":"int32"},"id":{"type":"integer","format":"int32"},"notes":{"type":"string"},"price":{"type":"number","format":"double"},"size":{"type":"integer","format":"int32"},"status":{"type":"string","enum":["FILLED","CANCELED","PENDING"]},"ticker":{"type":"string"}},"title":"SecurityOrder"},"SecurityRow":{"type":"object","properties":{"position":{"$ref":"#/definitions/Position"},"quote":{"$ref":"#/definitions/Quote"},"ticker":{"type":"string"}},"title":"SecurityRow"},"Trader":{"type":"object","properties":{"country":{"type":"string"},"dob":{"type":"string","format":"date-time"},"email":{"type":"string"},"firstName":{"type":"string"},"id":{"type":"integer","format":"int32"},"lastName":{"type":"string"}},"title":"Trader"},"TraderAccountView":{"type":"object","properties":{"account":{"$ref":"#/definitions/Account"},"trader":{"$ref":"#/definitions/Trader"}},"title":"TraderAccountView"}}}